(()=>{"use strict";var t,l,i,s,h,e,r,a,c,f,o=function(t,l,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof l?t!==l||!s:!l.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:l.get(t)};class n{constructor(){t.add(this),i.set(this,void 0),this.reset()}reset(){!function(t,l,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof l?t!==l||!h:!l.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?h.call(t,i):h?h.value=i:l.set(t,i)}(this,i,{F:["F","F","F","F","F","F","F","F"],B:["B","B","B","B","B","B","B","B"],R:["R","R","R","R","R","R","R","R"],L:["L","L","L","L","L","L","L","L"],U:["U","U","U","U","U","U","U","U"],D:["D","D","D","D","D","D","D","D"]},"f")}serialize(){return{F:o(this,t,"m",h).call(this,"F"),B:o(this,t,"m",h).call(this,"B"),R:o(this,t,"m",h).call(this,"R"),L:o(this,t,"m",h).call(this,"L"),U:o(this,t,"m",h).call(this,"U"),D:o(this,t,"m",h).call(this,"D")}}randomize(i=20){const s=["F","B","R","L","U","D"];for(let h=0;h<i;h++)o(this,t,"m",r).call(this,s[o(n,l,"m",f).call(n,0,5)],o(n,l,"m",f).call(n,-1,2))}F(l){return o(this,t,"m",r).call(this,"F",l),this}B(l){return o(this,t,"m",r).call(this,"B",l),this}R(l){return o(this,t,"m",r).call(this,"R",l),this}L(l){return o(this,t,"m",r).call(this,"L",l),this}U(l){return o(this,t,"m",r).call(this,"U",l),this}D(l){return o(this,t,"m",r).call(this,"D",l),this}}l=n,i=new WeakMap,t=new WeakSet,h=function(t){const l=o(this,i,"f")[t];return[l[0],l[1],l[2],l[7],t,l[3],l[6],l[5],l[4]]},e=function(t){const l=t%4;return 3===l?-1:-3===l?1:-2===l?2:l},r=function(i,s){let h=o(n,l,"m",e).call(n,s);if(-1===h)o(this,t,"m",c).call(this,i);else for(;h>0;)h--,o(this,t,"m",a).call(this,i)},a=function(t){const h=o(this,i,"f")[t],e=o(n,l,"f",s)[t];o(this,i,"f")[t]=[...h.slice(6),...h.slice(0,6)];const r=[o(this,i,"f")[e[3][0]][e[3][1][0]],o(this,i,"f")[e[3][0]][e[3][1][1]],o(this,i,"f")[e[3][0]][e[3][1][2]]];for(let t=3;t>0;t--)for(let l=0;l<3;l++)o(this,i,"f")[e[t][0]][e[t][1][l]]=o(this,i,"f")[e[t-1][0]][e[t-1][1][l]];for(let t=0;t<3;t++)o(this,i,"f")[e[0][0]][e[0][1][t]]=r[t]},c=function(t){const h=o(this,i,"f")[t],e=o(n,l,"f",s)[t];o(this,i,"f")[t]=[...h.slice(2),...h.slice(0,2)];const r=[o(this,i,"f")[e[0][0]][e[0][1][0]],o(this,i,"f")[e[0][0]][e[0][1][1]],o(this,i,"f")[e[0][0]][e[0][1][2]]];for(let t=0;t<3;t++)for(let l=0;l<3;l++)o(this,i,"f")[e[t][0]][e[t][1][l]]=o(this,i,"f")[e[t+1][0]][e[t+1][1][l]];for(let t=0;t<3;t++)o(this,i,"f")[e[3][0]][e[3][1][t]]=r[t]},f=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)},s={value:{F:[["U",[0,1,2]],["R",[0,1,2]],["D",[0,1,2]],["L",[0,1,2]]],B:[["U",[4,5,6]],["L",[4,5,6]],["D",[4,5,6]],["R",[4,5,6]]],R:[["U",[6,7,0]],["B",[6,7,0]],["D",[2,3,4]],["F",[2,3,4]]],L:[["U",[2,3,4]],["F",[6,7,0]],["D",[6,7,0]],["B",[2,3,4]]],U:[["F",[0,1,2]],["L",[6,7,0]],["B",[0,1,2]],["R",[2,3,4]]],D:[["F",[4,5,6]],["R",[6,7,0]],["B",[4,5,6]],["L",[2,3,4]]]}};const m=n;var d,w,U,u,R=function(t,l,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof l?t!==l||!s:!l.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:l.get(t)};class L{constructor(){}static getSVG(t){if(54!==t.length)throw new Error("ERROR: Invalid cube color representation.");return[R(L,d,"m",u).call(L,t.slice(0,27)),R(L,d,"m",u).call(L,t.slice(27))]}static allowedFaceColours(){return Object.keys(R(L,d,"f",U))}}d=L,u=function(t){if(27!==t.length)throw new Error("ERROR: Invalid cube color representation.");let l=R(L,d,"f",w);for(let i=1;i<=27;i++){const s="{{COLOR_"+(i<10?"0":"")+i+"}}",h=R(L,d,"f",U)[t[i-1]];l=l.replace(s,h)}return l},w={value:'<svg class="cube" width="425" height="490" viewBox="0 0 425 490" xmlns="http://www.w3.org/2000/svg">\n    <metadata>C2S2 Rubik\'s cube. 2020-08-11T17:00:00 Rubik\'s cube for C2S2 programming test.</metadata>\n    <g>\n    <title>background</title>\n    <rect fill="none" id="canvas_background" height="492" width="427" y="-1" x="-1"/>\n    </g>\n    <g>\n    <title>Layer 1</title>\n    <g id="g3263">\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_01}}" d="m4.282,124.36l69.278,40l0,80l-69.278,-40l0,-80z" id="path3265"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_02}}" d="m73.56,164.36l69.29,40l0,80l-69.29,-40l0,-80z" id="path3267"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_03}}" d="m142.85,204.36l69.28,40l0,80l-69.28,-40l0,-80z" id="path3269"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_04}}" d="m4.282,204.36l69.278,40l0,80l-69.278,-40l0,-80z" id="path3271"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_05}}" d="m73.56,244.36l69.29,40l0,80l-69.29,-40l0,-80z" id="path3273"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_06}}" d="m142.85,284.36l69.28,40l0,80l-69.28,-40l0,-80z" id="path3275"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_07}}" d="m4.282,284.36l69.278,40l0,80l-69.278,-40l0,-80z" id="path3277"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_08}}" d="m73.56,324.36l69.29,40l0,80l-69.29,-40l0,-80z" id="path3279"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_09}}" d="m142.85,364.36l69.28,40l0,80l-69.28,-40l0,-80z" id="path3281"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_10}}" d="m212.13,484.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3283"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_11}}" d="m212.13,404.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3285"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_12}}" d="m212.13,324.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3287"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_13}}" d="m281.41,444.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3289"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_14}}" d="m281.41,364.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3291"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_15}}" d="m281.41,284.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3293"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_16}}" d="m350.69,404.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3295"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_17}}" d="m350.69,324.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3297"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_18}}" d="m350.69,244.36l0,-80l69.28,-40l0,80l-69.28,40z" id="path3299"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_19}}" d="m4.282,124.36l69.278,-40l69.29,40l-69.29,40l-69.278,-40z" id="path3301"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_20}}" d="m73.56,84.36l69.29,-40l69.28,40l-69.28,40l-69.29,-40z" id="path3303"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_21}}" d="m142.85,44.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3305"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_22}}" d="m73.56,164.36l69.29,-40l69.28,40l-69.28,40l-69.29,-40z" id="path3307"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_23}}" d="m142.85,124.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3309"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_24}}" d="m212.13,84.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3311"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_25}}" d="m142.85,204.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3313"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_26}}" d="m212.13,164.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3315"/>\n      <path stroke="#000000" stroke-width="5" fill="{{COLOR_27}}" d="m281.41,124.36l69.28,-40l69.28,40l-69.28,40l-69.28,-40z" id="path3317"/>\n    </g>\n    </g>\n  </svg>'},U={value:{r:"#ff0000",g:"#00aa00",b:"#0000ff",y:"#ffff00",o:"#ff8800",w:"#ffffff"}};const p=L;var F,B,g,D,O,k,v,E,b,C,T,y,z,_,S,M,j,P,H,I,W,x,G=function(t,l,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof l?t!==l||!h:!l.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?h.call(t,i):h?h.value=i:l.set(t,i),i},V=function(t,l,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof l?t!==l||!s:!l.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:l.get(t)};B=new WeakMap,g=new WeakMap,D=new WeakMap,F=new WeakSet,O=function(t,l){return V(this,B,"f")[t](l),V(this,F,"m",k).call(this,t,l),G(this,g,V(this,B,"f").serialize(),"f"),this},k=function(t,l){const i=V(this,D,"f").length;if(i&&V(this,D,"f")[i-1][0]===t){V(this,D,"f")[i-1][1]+=l;let t=V(this,D,"f")[i-1][1];t=t>3?t%4:t,t=t<-3?t%4:t,t=3===t?-1:t,t=-3===t?1:t,V(this,D,"f")[i-1][1]=t,0===t&&V(this,D,"f").splice(i-1,1)}else V(this,D,"f").push([t,l])},v=function(){return[[1,1,"F"],[5,3,"R"],[3,5,"L"],[7,7,"B"]].forEach((t=>{if("D"===V(this,g,"f").D[t[0]]){for(;"D"===V(this,g,"f").U[t[1]];)V(this,F,"m",O).call(this,"U",1);V(this,F,"m",O).call(this,t[2],2)}})),[[5,7,"L","B"],[7,3,"B","R"],[3,1,"R","F"],[7,5,"F","L"]].forEach((t=>{var l,i;if("D"===V(this,g,"f")[t[2]][t[0]]){for(;"D"===V(this,g,"f").U[t[1]];)V(this,F,"m",O).call(this,"U",1);V(l=V(i=V(this,F,"m",O).call(this,t[2],1),F,"m",O).call(i,t[3],-1),F,"m",O).call(l,t[2],-1)}})),[["L",1,1,"F",1],["L",7,7,"B",-1],["B",5,5,"L",1],["B",3,3,"R",-1],["R",7,7,"B",1],["R",1,1,"F",-1],["F",5,3,"R",1],["F",3,5,"L",-1]].forEach((t=>{if("D"===V(this,g,"f")[t[0]][t[1]]){for(;"D"===V(this,g,"f").U[t[2]];)V(this,F,"m",O).call(this,"U",1);V(this,F,"m",O).call(this,t[3],t[4])}})),[["L",3,1,"F"],["B",1,5,"L"],["R",5,7,"B"],["F",1,3,"R"]].forEach((t=>{if("D"===V(this,g,"f")[t[0]][t[1]]){for(V(this,F,"m",O).call(this,t[0],1);"D"===V(this,g,"f").U[t[2]];)V(this,F,"m",O).call(this,"U",1);V(this,F,"m",O).call(this,t[3],1)}})),V(this,F,"m",E).call(this)},E=function(){return"D"===V(this,g,"f").U[1]&&"D"===V(this,g,"f").U[3]&&"D"===V(this,g,"f").U[5]&&"D"===V(this,g,"f").U[7]},b=function(){const t=[[1,1,"F"],[3,5,"R"],[7,1,"B"],[5,3,"L"]];for(let l=0;l<4;l++)t.forEach((t=>{"D"===V(this,g,"f").U[t[0]]&&V(this,g,"f")[t[2]][t[1]]===t[2]&&V(this,F,"m",O).call(this,t[2],2)})),V(this,F,"m",O).call(this,"U",1);return V(this,F,"m",C).call(this)},C=function(){return"D"===V(this,g,"f").D[1]&&"D"===V(this,g,"f").D[3]&&"D"===V(this,g,"f").D[5]&&"D"===V(this,g,"f").D[7]&&"F"===V(this,g,"f").F[7]&&"R"===V(this,g,"f").R[3]&&"B"===V(this,g,"f").B[7]&&"L"===V(this,g,"f").L[5]},T=function(){let t=!1;do{t=!1;let l=!1;do{l=!1;let t=!1;do{t=!1;{const t=[["F",0,"L",0,"leftTrigger"],["F",2,"R",2,"rightTrigger"],["R",2,"F",2,"leftTrigger"],["R",8,"B",0,"rightTrigger"],["B",0,"R",8,"leftTrigger"],["B",2,"L",6,"rightTrigger"],["L",6,"B",2,"leftTrigger"],["L",0,"F",0,"rightTrigger"]];let l=!1;do{l=!1;for(let i=0;i<4;i++)t.forEach((t=>{var i,s,h,e;V(this,g,"f")[t[0]][t[1]]===t[0]&&"D"===V(this,g,"f")[t[2]][t[3]]&&(l=!0,"leftTrigger"===t[4]?V(i=V(s=V(this,F,"m",O).call(this,t[2],-1),F,"m",O).call(s,"U",-1),F,"m",O).call(i,t[2],1):V(h=V(e=V(this,F,"m",O).call(this,t[2],1),F,"m",O).call(e,"U",1),F,"m",O).call(h,t[2],-1))})),V(this,F,"m",O).call(this,"U",1)}while(l)}[["F",6,"L","leftTrigger"],["F",8,"R","rightTrigger"],["R",0,"F","leftTrigger"],["R",6,"B","rightTrigger"],["B",6,"R","leftTrigger"],["B",8,"L","rightTrigger"],["L",8,"B","leftTrigger"],["L",2,"F","rightTrigger"]].forEach((l=>{var i,s,h,e;"D"===V(this,g,"f")[l[0]][l[1]]&&(t=!0,"leftTrigger"===l[3]?V(i=V(s=V(this,F,"m",O).call(this,l[2],-1),F,"m",O).call(s,"U",-1),F,"m",O).call(i,l[2],1):V(h=V(e=V(this,F,"m",O).call(this,l[2],1),F,"m",O).call(e,"U",1),F,"m",O).call(h,l[2],-1))}))}while(t);{const t=[[0,2,"R"],[2,0,"F"],[8,6,"L"],[6,8,"B"]];for(let i=0;i<4;i++)t.forEach((t=>{var i,s;"D"===V(this,g,"f").U[t[0]]&&"D"!==V(this,g,"f").D[t[1]]&&(l=!0,V(i=V(s=V(this,F,"m",O).call(this,t[2],1),F,"m",O).call(s,"U",2),F,"m",O).call(i,t[2],-1))})),V(this,F,"m",O).call(this,"U",1)}}while(l);[["F",6,"L",2],["R",0,"F",8],["B",6,"R",6],["L",8,"B",8]].forEach((l=>{var i,s;V(this,g,"f")[l[0]][l[1]]===l[0]&&V(this,g,"f")[l[2]][l[3]]===l[2]||(t=!0,V(i=V(s=V(this,F,"m",O).call(this,l[0],1),F,"m",O).call(s,"U",1),F,"m",O).call(i,l[0],-1))}))}while(t);return V(this,F,"m",y).call(this)},y=function(){return"D"===V(this,g,"f").D[0]&&"D"===V(this,g,"f").D[1]&&"D"===V(this,g,"f").D[2]&&"D"===V(this,g,"f").D[3]&&"D"===V(this,g,"f").D[4]&&"D"===V(this,g,"f").D[5]&&"D"===V(this,g,"f").D[6]&&"D"===V(this,g,"f").D[7]&&"D"===V(this,g,"f").D[8]&&"F"===V(this,g,"f").F[6]&&"F"===V(this,g,"f").F[7]&&"F"===V(this,g,"f").F[8]&&"R"===V(this,g,"f").R[0]&&"R"===V(this,g,"f").R[3]&&"R"===V(this,g,"f").R[6]&&"B"===V(this,g,"f").B[6]&&"B"===V(this,g,"f").B[7]&&"B"===V(this,g,"f").B[8]&&"L"===V(this,g,"f").L[8]&&"L"===V(this,g,"f").L[5]&&"L"===V(this,g,"f").L[2]},z=function(){let t=!1,l=!1;do{l=!1;do{t=!1;const l=[[1,"F",1,"L","R"],[5,"L",3,"B","F"],[7,"B",1,"R","L"],[3,"R",5,"F","B"]];for(let i=0;i<4;i++)l.forEach((l=>{var i,s,h,e,r,a,c,f,o,n,m,d,w,U,u,R;"U"!==V(this,g,"f").U[l[0]]&&V(this,g,"f")[l[1]][l[2]]===l[1]&&(t=!0,V(this,g,"f").U[l[0]]===l[3]?V(i=V(s=V(h=V(e=V(r=V(a=V(c=V(f=V(this,F,"m",O).call(this,"U",-1),F,"m",O).call(f,l[3],-1),F,"m",O).call(c,"U",-1),F,"m",O).call(a,l[3],1),F,"m",O).call(r,"U",1),F,"m",O).call(e,l[1],1),F,"m",O).call(h,"U",1),F,"m",O).call(s,l[1],-1),F,"m",O).call(i,"U",-1):V(o=V(n=V(m=V(d=V(w=V(U=V(u=V(R=V(this,F,"m",O).call(this,"U",1),F,"m",O).call(R,l[4],1),F,"m",O).call(u,"U",1),F,"m",O).call(U,l[4],-1),F,"m",O).call(w,"U",-1),F,"m",O).call(d,l[1],-1),F,"m",O).call(m,"U",-1),F,"m",O).call(n,l[1],1),F,"m",O).call(o,"U",1))})),V(this,F,"m",O).call(this,"U",1)}while(t);[["F",3,5,"L","R"],["R",1,7,"F","B"],["B",3,5,"R","L"],["L",7,1,"B","F"]].forEach((t=>{var i,s,h,e,r,a,c,f,o,n,m,d,w,U,u,R;l||(V(this,g,"f")[t[0]][t[1]]!==t[0]?(l=!0,V(i=V(s=V(h=V(e=V(r=V(a=V(c=V(f=V(this,F,"m",O).call(this,"U",-1),F,"m",O).call(f,t[3],-1),F,"m",O).call(c,"U",-1),F,"m",O).call(a,t[3],1),F,"m",O).call(r,"U",1),F,"m",O).call(e,t[0],1),F,"m",O).call(h,"U",1),F,"m",O).call(s,t[0],-1),F,"m",O).call(i,"U",-1)):V(this,g,"f")[t[0]][t[2]]!==t[0]&&(l=!0,V(o=V(n=V(m=V(d=V(w=V(U=V(u=V(R=V(this,F,"m",O).call(this,"U",1),F,"m",O).call(R,t[4],1),F,"m",O).call(u,"U",1),F,"m",O).call(U,t[4],-1),F,"m",O).call(w,"U",-1),F,"m",O).call(d,t[0],-1),F,"m",O).call(m,"U",-1),F,"m",O).call(n,t[0],1),F,"m",O).call(o,"U",1)))}))}while(l);return V(this,F,"m",_).call(this)},_=function(){return V(this,F,"m",y).call(this)&&"F"===V(this,g,"f").F[3]&&"F"===V(this,g,"f").F[5]&&"R"===V(this,g,"f").R[1]&&"R"===V(this,g,"f").R[7]&&"B"===V(this,g,"f").B[3]&&"B"===V(this,g,"f").B[5]&&"L"===V(this,g,"f").L[7]&&"L"===V(this,g,"f").L[1]},S=function(){var t,l,i,s,h;"U"!==V(this,g,"f").U[1]&&"U"!==V(this,g,"f").U[5]&&"U"!==V(this,g,"f").U[7]&&"U"!==V(this,g,"f").U[3]&&V(t=V(l=V(i=V(s=V(h=V(this,F,"m",O).call(this,"F",1),F,"m",O).call(h,"U",1),F,"m",O).call(s,"R",1),F,"m",O).call(i,"U",-1),F,"m",O).call(l,"R",-1),F,"m",O).call(t,"F",-1);{let t=!1;[[1,7,"F","R"],[3,5,"R","B"]].forEach((l=>{var i,s,h,e,r;t||"U"===V(this,g,"f").U[l[0]]&&"U"===V(this,g,"f").U[l[1]]&&(t=!0,V(i=V(s=V(h=V(e=V(r=V(this,F,"m",O).call(this,l[2],1),F,"m",O).call(r,"U",1),F,"m",O).call(e,l[3],1),F,"m",O).call(h,"U",-1),F,"m",O).call(s,l[3],-1),F,"m",O).call(i,l[2],-1))}))}{let t=!1;[[5,7,"F","R"],[1,5,"R","B"],[3,1,"B","L"],[7,3,"L","F"]].forEach((l=>{var i,s,h,e,r;t||"U"===V(this,g,"f").U[l[0]]&&"U"===V(this,g,"f").U[l[1]]&&(t=!0,V(i=V(s=V(h=V(e=V(r=V(this,F,"m",O).call(this,l[2],1),F,"m",O).call(r,"U",1),F,"m",O).call(e,l[3],1),F,"m",O).call(h,"U",-1),F,"m",O).call(s,l[3],-1),F,"m",O).call(i,l[2],-1))}))}return V(this,F,"m",M).call(this)},M=function(){return V(this,F,"m",_).call(this)&&"U"===V(this,g,"f").U[1]&&"U"===V(this,g,"f").U[5]&&"U"===V(this,g,"f").U[7]&&"U"===V(this,g,"f").U[3]},j=function(){var t,l,i,s,h,e,r,a,c,f,o,n;const m=()=>{let t=0;return"U"===V(this,g,"f").U[0]&&t++,"U"===V(this,g,"f").U[2]&&t++,"U"===V(this,g,"f").U[8]&&t++,"U"===V(this,g,"f").U[6]&&t++,t};if(4===m())return!0;if(3===m())throw new Error("Cube Error: Invalid Cube position");if(0===m()||2===m())do{for(;"U"!==V(this,g,"f").L[0];)V(this,F,"m",O).call(this,"U",1);V(t=V(l=V(i=V(s=V(h=V(e=V(this,F,"m",O).call(this,"R",1),F,"m",O).call(e,"U",1),F,"m",O).call(h,"R",-1),F,"m",O).call(s,"U",1),F,"m",O).call(i,"R",1),F,"m",O).call(l,"U",2),F,"m",O).call(t,"R",-1)}while(1!==m());if(1===m()){for(;"U"!==V(this,g,"f").U[2];)V(this,F,"m",O).call(this,"U",1);V(r=V(a=V(c=V(f=V(o=V(n=V(this,F,"m",O).call(this,"R",1),F,"m",O).call(n,"U",1),F,"m",O).call(o,"R",-1),F,"m",O).call(f,"U",1),F,"m",O).call(c,"R",1),F,"m",O).call(a,"U",2),F,"m",O).call(r,"R",-1)}return V(this,F,"m",P).call(this)},P=function(){return V(this,F,"m",M).call(this)&&"U"===V(this,g,"f").U[0]&&"U"===V(this,g,"f").U[2]&&"U"===V(this,g,"f").U[8]&&"U"===V(this,g,"f").U[6]},H=function(){var t,l,i,s,h,e,r,a,c,f,o,n,m,d,w,U,u,R,L,p,B,D;if(V(this,g,"f").F[0]!==V(this,g,"f").F[2]&&V(this,g,"f").R[2]!==V(this,g,"f").R[8]&&V(this,g,"f").B[0]!==V(this,g,"f").B[2]&&V(this,g,"f").L[6]!==V(this,g,"f").L[0]&&V(t=V(l=V(i=V(s=V(h=V(e=V(r=V(a=V(c=V(f=V(o=V(this,F,"m",O).call(this,"L",-1),F,"m",O).call(o,"U",1),F,"m",O).call(f,"R",1),F,"m",O).call(c,"U",-1),F,"m",O).call(a,"L",1),F,"m",O).call(r,"U",1),F,"m",O).call(e,"U",1),F,"m",O).call(h,"R",-1),F,"m",O).call(s,"U",1),F,"m",O).call(i,"R",1),F,"m",O).call(l,"U",2),F,"m",O).call(t,"R",-1),V(this,F,"m",I).call(this))return!0;for(;V(this,g,"f").L[6]!==V(this,g,"f").L[0];)V(this,F,"m",O).call(this,"U",1);return V(n=V(m=V(d=V(w=V(U=V(u=V(R=V(L=V(p=V(B=V(D=V(this,F,"m",O).call(this,"L",-1),F,"m",O).call(D,"U",1),F,"m",O).call(B,"R",1),F,"m",O).call(p,"U",-1),F,"m",O).call(L,"L",1),F,"m",O).call(R,"U",1),F,"m",O).call(u,"U",1),F,"m",O).call(U,"R",-1),F,"m",O).call(w,"U",1),F,"m",O).call(d,"R",1),F,"m",O).call(m,"U",2),F,"m",O).call(n,"R",-1),V(this,F,"m",I).call(this)},I=function(){return V(this,F,"m",P).call(this)&&V(this,g,"f").F[0]===V(this,g,"f").F[2]&&V(this,g,"f").R[2]===V(this,g,"f").R[8]&&V(this,g,"f").B[0]===V(this,g,"f").B[2]&&V(this,g,"f").L[6]===V(this,g,"f").L[0]},W=function(){for(var t,l,i,s,h,e,r,a,c,f,o,n,m,d,w,U;"F"!==V(this,g,"f").F[0];)V(this,F,"m",O).call(this,"U",1);if(V(this,F,"m",x).call(this))return!0;let u;if("F"!==V(this,g,"f").F[1]&&"R"!==V(this,g,"f").R[5]&&"B"!==V(this,g,"f").B[1]&&"L"!==V(this,g,"f").L[3]&&V(t=V(l=V(i=V(s=V(h=V(e=V(r=V(a=V(this,F,"m",O).call(this,"F",2),F,"m",O).call(a,"U",-1),F,"m",O).call(r,"R",-1),F,"m",O).call(e,"L",1),F,"m",O).call(h,"F",2),F,"m",O).call(s,"L",-1),F,"m",O).call(i,"R",1),F,"m",O).call(l,"U",-1),F,"m",O).call(t,"F",2),"B"===V(this,g,"f").B[0]&&"B"===V(this,g,"f").B[1]&&"B"===V(this,g,"f").B[2])u="B";else if("L"===V(this,g,"f").L[6]&&"L"===V(this,g,"f").L[3]&&"L"===V(this,g,"f").L[0])u="L";else if("F"===V(this,g,"f").F[0]&&"F"===V(this,g,"f").F[1]&&"F"===V(this,g,"f").F[2])u="F";else{if("R"!==V(this,g,"f").R[2]||"R"!==V(this,g,"f").R[5]||"R"!==V(this,g,"f").R[8])throw new Error("Cube Error: Invalid Cube position");u="R"}const R={F:"B",R:"L",B:"F",L:"R",U:"D",D:"U"}[u],L={F:["L","R"],R:["F","B"],B:["R","L"],L:["B","F"],D:[],U:[]}[R];return V(c=V(f=V(o=V(n=V(m=V(d=V(w=V(U=V(this,F,"m",O).call(this,R,2),F,"m",O).call(U,"U",-1),F,"m",O).call(w,L[1],-1),F,"m",O).call(d,L[0],1),F,"m",O).call(m,R,2),F,"m",O).call(n,L[0],-1),F,"m",O).call(o,L[1],1),F,"m",O).call(f,"U",-1),F,"m",O).call(c,R,2),V(this,F,"m",x).call(this)},x=function(){return V(this,F,"m",I).call(this)&&"F"===V(this,g,"f").F[0]&&"F"===V(this,g,"f").F[1]&&"R"===V(this,g,"f").R[2]&&"R"===V(this,g,"f").R[5]&&"B"===V(this,g,"f").B[0]&&"B"===V(this,g,"f").B[1]&&"L"===V(this,g,"f").L[6]&&"L"===V(this,g,"f").L[3]};const $=class{constructor(t){F.add(this),B.set(this,void 0),g.set(this,void 0),D.set(this,[]),G(this,B,t,"f"),G(this,g,t.serialize(),"f")}getMoveHistory(){return V(this,D,"f")}solve(){if(!V(this,F,"m",x).call(this)){if(!V(this,F,"m",I).call(this)){if(!V(this,F,"m",P).call(this)){if(!V(this,F,"m",M).call(this)){if(!V(this,F,"m",_).call(this)){if(!V(this,F,"m",y).call(this)){if(!V(this,F,"m",C).call(this)){if(!V(this,F,"m",E).call(this)){for(let t=0;t<4&&!V(this,F,"m",v).call(this);t++);if(!V(this,F,"m",E).call(this))throw new Error("Step 1 failed to complete")}if(!V(this,F,"m",C).call(this)&&!V(this,F,"m",b).call(this))throw new Error("Step 2 failed to complete")}if(!V(this,F,"m",y).call(this)&&!V(this,F,"m",T).call(this))throw new Error("Step 3 failed to complete")}if(!V(this,F,"m",_).call(this)&&!V(this,F,"m",z).call(this))throw new Error("Step 4 failed to complete")}if(!V(this,F,"m",M).call(this)&&!V(this,F,"m",S).call(this))throw new Error("Step 5 failed to complete")}if(!V(this,F,"m",P).call(this)){for(let t=0;t<2&&!V(this,F,"m",j).call(this);t++);if(!V(this,F,"m",P).call(this))throw new Error("Step 6 failed to complete")}}if(!V(this,F,"m",I).call(this)){for(let t=0;t<2&&!V(this,F,"m",H).call(this);t++);if(!V(this,F,"m",I).call(this))throw new Error("Step 7 failed to complete")}}if(!V(this,F,"m",x).call(this)){for(let t=0;t<2&&!V(this,F,"m",W).call(this);t++);if(!V(this,F,"m",x).call(this))throw new Error("Step 8 failed to complete")}}return!1}};function A(t){const l=p.allowedFaceColours(),i=t.serialize(),{U:s,L:h,B:e}=i,r=function(t,l){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&l.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(s=Object.getOwnPropertySymbols(t);h<s.length;h++)l.indexOf(s[h])<0&&Object.prototype.propertyIsEnumerable.call(t,s[h])&&(i[s[h]]=t[s[h]])}return i}(i,["U","L","B"]);if(6!==l.length)throw new Error("CubeRenderer Error: Cube should have 6 faces");const a={F:l[0],R:l[1],U:l[2],L:l[3],B:l[4],D:l[5]};return[...r.F,...r.R,s[2],s[5],s[8],s[1],s[4],s[7],s[0],s[3],s[6],h[2],h[5],h[8],h[1],h[4],h[7],h[0],h[3],h[6],e[2],e[5],e[8],e[1],e[4],e[7],e[0],e[3],e[6],...r.D].map((t=>a[t]))}window.render=function(){document.getElementById("cube").innerHTML=p.getSVG(A(window.cube)).join(" ")},window.solveCube=function(){const t=new $(window.cube);t.solve();const l=t.getMoveHistory();window.renderSolution(l),window.render()},window.onload=function(){window.cube=new m,window.render(),window.CubeSolver=$},window.renderSolution=function(t){const l=document.getElementById("solution");l.innerHTML="";for(let i=t.length-1;i>=0;i--){const s=document.createElement("div");s.setAttribute("class","sol_panel");const h=document.createElement("div");h.innerHTML=`Step ${i+1} - Move: ${t[i][0]} (${t[i][1]})`;const e=p.getSVG(A(window.cube)).join(" ");s.innerHTML=e,s.prepend(h),l.prepend(s),window.cube[t[i][0]](0-t[i][1])}const i=document.createElement("div");i.setAttribute("class","sol_panel");const s=document.createElement("div");s.innerHTML="Given Cube";const h=p.getSVG(A(window.cube)).join(" ");i.innerHTML=h,i.prepend(s),l.prepend(i)}})();